<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="_csrf" th:content="${_csrf.token}"/>
  <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
  <title>회원정보 — FesLite</title>
   <link rel="stylesheet" />
   <script defer th:src="@{/authjs/usercheckpass.js}"></script>
  <style>
    body{background:linear-gradient(135deg,#ffdee9 0%,#b5fffc 100%);font-family:'Pretendard',sans-serif;}
    .mypage-wrapper{display:grid;grid-template-columns:240px 1fr;gap:24px;max-width:1100px;margin:40px auto;padding:0 16px;}
    .sidebar{background:#fff;border-radius:14px;box-shadow:0 4px 14px rgba(0,0,0,.1);padding:20px 16px;}
    .menu a{display:flex;justify-content:space-between;padding:10px 12px;border-radius:10px;text-decoration:none;color:#333;font-weight:600;transition:0.15s ease;}
    .menu a:hover{background:#f0f2ff;color:#6b21a8;}
    .menu a.active{background:#6b21a8;color:#fff;font-weight:700;}
    .main{background:#fff;border-radius:20px;box-shadow:0 4px 14px rgba(0,0,0,0.1);padding:30px;}
    label{display:block;margin-top:12px;font-weight:600;}
    input{width:100%;padding:10px;border:1px solid #ccc;border-radius:8px;margin-top:4px;}
    button{margin-top:20px;padding:10px 16px;border:none;border-radius:8px;background:#6b21a8;color:#fff;font-weight:700;}
    @media(max-width:900px){.mypage-wrapper{grid-template-columns:1fr;}}
  </style>
</head>
<body>
  <!-- 상단 네비바 -->
  <div th:replace="~{common/header :: header}"></div>

  <form style="display:none;" th:if="${_csrf}" th:action="@{/noop}">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
 </form>

  <main class="mypage-wrapper">
    <!-- 사이드바 -->
    <aside class="sidebar">
      <h2>마이페이지</h2>
      <nav class="menu">
        <a th:href="@{/member/mypage}" class="active">마이페이지<span>›</span></a>
        <a th:href="@{/member/bookmark}">내가 찜한 페이지<span>›</span></a>
        <a th:href="@{/member/review}">나의 리뷰<span>›</span></a>
        <a th:href="@{/member/inquiry}">1:1 문의<span>›</span></a>
        <a th:href="@{/member/delete}" style="color:#ef4444;">회원탈퇴<span>›</span></a>
      </nav>
    </aside>

    <!-- 메인 -->
    <section class="main">
      <h3>회원정보</h3>
      <div>
        <p><strong>아이디:</strong> <span th:text="${userInfo.member_id}"></span></p>
        <p><strong>이름:</strong> <span th:text="${userInfo.member_name}"></span></p>
        <p><strong>이메일:</strong> <span th:text="${userInfo.member_email}"></span></p>
        <p><strong>닉네임:</strong> <span th:text="${userInfo.member_nickname}"></span></p>
        <p><strong>핸드폰:</strong> <span th:text="${userInfo.member_phone}"></span></p>
        <p><strong>직업:</strong> <span th:text="${userInfo.member_birth}"></span></p>
        <p><strong>주소:</strong> <span th:text="${userInfo.member_address}"></span></p>
        <p><strong>직업:</strong> <span th:text="${userInfo.member_job}"></span></p>
        <p><strong>상별:</strong> <span th:text="${userInfo.member_gender}"></span></p>
      </div>

      <form id="verificationForm">
        <label for="current_pass">정보 수정을 위한 비밀번호 확인</label>
        <input id="current_pass" type="password" required placeholder="현재 비밀번호를 입력해주세요."/>

        <div id="passwordError" class="text-danger"></div>
        
        <button type="submit" id="editInfoBtn" class="btn btn-primary" style="width: 100%;">정보 수정</button>
      </form>
    </section>
  </main>

  <footer class="footer">
    <div class="container">© 2025 FesLite</div>
  </footer>
  

</body>
</html>
